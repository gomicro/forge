project:
  name: forge
steps:
  build:
    help: Compiles the project into a binary for the current system's OS
    envs:
      Goos: linux #uname -s | tr '[:upper:]' '[:lower:]'
    cmd: CGO_ENABLED=0 GOOS={{.Goos}} go build -o {{.Project}} .
  coverage:
    help: Generates the code coverage from all the tests
    cmd: docker run gomicro/gocover
  install:
    help: Installs the binary into GOBIN
    pre:
    - build
    cmd: go install
  linters:
    help: Run all the linters
    cmd: golangci-lint run
  test:
    help: Run the unit tests for the project
    cmd: go test ./...
